import pygame
import sys

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
pygame.init()

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
CELL = 40
N = 12  # —Å–µ—Ç–∫–∞ 12x12
WIDTH, HEIGHT = N * CELL, N * CELL + 120  # + –º–µ—Å—Ç–æ –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å–ª–æ–≤–∞
BG = (248, 248, 255)        # —Å–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω (–∑–∏–º–∞)
GRID_COLOR = (50, 80, 150)  # —Å–∏–Ω–∏–π
TEXT_COLOR = (20, 20, 60)   # —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π
HIGHLIGHT = (255, 215, 0)   # –∑–æ–ª–æ—Ç–æ–π (–ø—Ä–∞–∑–¥–Ω–∏–∫)
WORD_BG = (230, 245, 255)

screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("üéÑ Christmas Crossword")

font = pygame.font.SysFont("Arial", 22, bold=True)
title_font = pygame.font.SysFont("Arial", 28, bold=True)
small_font = pygame.font.SysFont("Arial", 18)

# –ü—É—Å—Ç–∞—è —Å–µ—Ç–∫–∞
grid = [['' for _ in range(N)] for _ in range(N)]

# –°–ª–æ–≤–∞ —Å –ø–æ–∑–∏—Ü–∏—è–º–∏: (—Å–ª–æ–≤–æ, x, y, direction 'h'/'v')
# –ü–æ–¥–æ–±—Ä–∞–Ω—ã –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è:
# - 'baubles' (h) –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç 'gift' (v) –ø–æ 'b' –∏ 'g' ‚Üí –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç; –ª—É—á—à–µ:
# –ò—Å–ø–æ–ª—å–∑—É–µ–º:
#   gingerbread (h, row 1, col 0)
#   tinsel (v, col 3, row 1) ‚Üí –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç gingerbread –ø–æ 'n'
#   baubles (v, col 6, row 2) ‚Üí –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç gingerbread –ø–æ 'e'
#   gift (h, row 8, col 4)
#   party (v, col 5, row 6) ‚Üí –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç gift –ø–æ 't'

words = [
    ("gingerbread", 0, 1, 'h'),   # row 1, starts at col 0
    ("tinsel",      3, 1, 'v'),   # col 3, row 1 ‚Üí 'n' at (3,1+3) = (3,4) = gingerbread[3]='g'? ‚ùå
    # –ü–µ—Ä–µ—Å—á–∏—Ç–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
]

# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è–º–∏:
# gingerbread (11): (0,1) ‚Üí –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ: g i n g e r b r e a d
#   –∏–Ω–¥–µ–∫—Å—ã: 0:g,1:i,2:n,3:g,4:e,5:r,6:b,7:r,8:e,9:a,10:d
# tinsel (6): –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –≤ col=2, –Ω–∞—á–∏–Ω–∞—è —Å row=1: t,i,n,s,e,l ‚Üí n –Ω–∞ (2,3) = gingerbread[2] = 'n' ‚úÖ
# baubles (7): –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –≤ col=6, row=1 ‚Üí b,a,u,b,l,e,s ‚Üí b –Ω–∞ (6,1) = gingerbread[6] = 'b' ‚úÖ
# gift (4): –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –≤ row=8, col=4: g,i,f,t
# party (5): –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –≤ col=7, row=6: p,a,r,t,y ‚Üí t –Ω–∞ (7,9) = gift[3] = 't' ‚úÖ (gift –≤ row=8: col4=g,5=i,6=f,7=t)

words = [
    ("gingerbread", 0, 1, 'h'),  # (x=0, y=1)
    ("tinsel",      2, 1, 'v'),  # (x=2, y=1)
    ("baubles",     6, 1, 'v'),  # (x=6, y=1)
    ("gift",        4, 8, 'h'),  # (x=4, y=8)
    ("party",       7, 6, 'v'),  # (x=7, y=6)
]

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–µ—Ç–∫–∏
for word, x, y, dr in words:
    for i, ch in enumerate(word):
        if dr == 'h':
            col, row = x + i, y
        else:  # 'v'
            col, row = x, y + i
        if 0 <= row < N and 0 <= col < N:
            grid[row][col] = ch.upper()

# –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–µ—Ç–∫–∏
def draw_grid():
    for r in range(N):
        for c in range(N):
            rect = pygame.Rect(c * CELL, r * CELL + 60, CELL, CELL)
            # –ü—É—Å—Ç–∞—è –∫–ª–µ—Ç–∫–∞ ‚Äî —Å–µ—Ä–∞—è, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è ‚Äî –±–µ–ª–∞—è
            if grid[r][c]:
                pygame.draw.rect(screen, (255, 255, 255), rect)
                pygame.draw.rect(screen, GRID_COLOR, rect, 2)
                txt = font.render(grid[r][c], True, TEXT_COLOR)
                screen.blit(txt, (rect.centerx - txt.get_width()//2,
                                  rect.centery - txt.get_height()//2))
            else:
                pygame.draw.rect(screen, (220, 220, 230), rect)
                pygame.draw.rect(screen, GRID_COLOR, rect, 1)

# –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —Å–ª–æ–≤
def draw_clues():
    pygame.draw.rect(screen, WORD_BG, (0, HEIGHT - 60, WIDTH, 60))
    y_text = HEIGHT - 45
    clues = ["1. Sweet holiday house (11)", "2. Shiny Christmas balls (7)",
             "3. Sparkly ribbon strands (6)", "4. Present under the tree (4)",
             "5. Celebration with friends (5)"]
    for i, clue in enumerate(clues):
        text = small_font.render(f"{i+1}. {clue}", True, TEXT_COLOR)
        screen.blit(text, (10 + (i % 3) * (WIDTH // 3), y_text + (i // 3) * 24))

# –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
running = True
while running:
    screen.fill(BG)

    # –ó–∞–≥–æ–ª–æ–≤–æ–∫
    title = title_font.render("üéÑ CHRISTMAS CROSSWORD", True, (180, 0, 0))
    screen.blit(title, (WIDTH//2 - title.get_width()//2, 10))

    draw_grid()
    draw_clues()

    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        elif event.type == pygame.KEYDOWN:
            if event.key == pygame.K_ESCAPE:
                running = False

    pygame.display.flip()

pygame.quit()
sys.exit()
